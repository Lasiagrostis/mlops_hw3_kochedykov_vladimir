## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏

### –¶–µ–ª–∏ –∑–∞–¥–∞–Ω–∏—è üéØ  
–ù–∞—É—á–∏—Ç—å—Å—è –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (Blue-Green –∏ Canary) –¥–ª—è ML-–º–æ–¥–µ–ª–µ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ CI/CD (GitHub Actions).  

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É üöÄ  
–î–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è —Ä–∞–±–æ—á–µ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `git clone https://github.com/Lasiagrostis/mlops_hw3_kochedykov_vladimir.git`
2. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫–µ—Ä - –æ–±—Ä–∞–∑, –Ω–∞–ø—Ä–º–µ—Ä `docker build -t ci-cd-hw3:latest .`
3. –ü–æ–¥–Ω—è—Ç—å –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: blue –∏ green –≤–µ—Ä—Å–∏–∏:
```bash
docker-compose -f .\docker-compose.blue.yml up -d
docker-compose -f .\docker-compose.green.yml up -d
```
5. –ü–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å nginx alpine –∫–æ–º–∞–Ω–¥–æ–π `docker run -d --name nginx-proxy -p 80:80 -v ${PWD}\nginx.conf:/etc/nginx/nginx.conf:ro nginx:alpine`  
6. –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8081/`, –≤—Ç–æ—Ä–∞—è –Ω–∞ `http://localhost:8082/`. –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å "–∑–¥–æ—Ä–æ–≤—å–µ" –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `curl.exe -s http://localhost:8082/predict`. –ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ `http://localhost` –±—É–¥–µ—Ç –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–∞ —Ç–∞ –º–æ–¥–µ–ª—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –≤–µ–¥—ë—Ç —Ç—Ä–∞—Ñ–∏–∫ nginx. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ –≤–µ—Ä—Å–∏—è blue  
7. –î–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—Ç blue –∏ —Ä–∞—Å—Å–∫–æ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å green –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `docker exec nginx-proxy nginx -s reload`  
![–°–∫—Ä–∏–Ω –∫–æ–Ω—Ñ–∏–≥–∞ nginx](screenshots\nginx.png)  

### –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥
- –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ (blue)  
![–ó–¥–æ—Ä–æ–≤—å–µ –º–æ–¥–µ–ª–∏ (blue)](screenshots\blue_health.png)  
![–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ (blue)](screenshots\blue_predict.png)  
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ —á–µ—Ä–µ–∑ nginx (green)  
![–ó–¥–æ—Ä–æ–≤—å–µ –º–æ–¥–µ–ª–∏ (green)](screenshots\green_health.png)  
![–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ (green)](screenshots\green_predict.png) 
- –£—Å–ø–µ—à–Ω–æ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π job –≤ GitHub Actions  
![GitHub Actions Success](screenshots\github_actions.png)